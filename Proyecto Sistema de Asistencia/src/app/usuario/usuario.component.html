<div class="container">
  <div class="mat-card-title">
    <h5>Crear Usuario</h5>
  </div>

  <div class="contentB">
    <button mat-stroked-button (click)="guardar()" class="button">Guardar</button>
    <button mat-stroked-button (click)="limpiar()" class="button">Descartar</button>
  </div>

  <mat-card class="example-card">
    <mat-card-content style="display: flex;">
      <form [formGroup]="formUsuario" style="display: flex;justify-content: center; justify-content: center;
    width: 100%;">
        <div>
          <div class="temp">


            <mat-form-field appearance="fill" style="margin: 0 10px;">
              <mat-label>Nombre</mat-label>
              <input matInput formControlName="nombre">
              <mat-icon matSuffix>person</mat-icon>

            </mat-form-field>
            <mat-form-field appearance="fill" style="margin: 0 10px;">
              <mat-label>Apellido</mat-label>
              <input matInput formControlName="apellido">
              <mat-icon matSuffix>perm_identity</mat-icon>

            </mat-form-field>
          </div>



          <div class="temp">
            <mat-form-field appearance="fill" style="margin: 0 10px;">
              <mat-label>Email</mat-label>
              <input matInput formControlName="email">
              <mat-icon matSuffix>email</mat-icon>

            </mat-form-field>

            <mat-form-field appearance="fill" style="margin: 0 10px;">
              <mat-label>Celular</mat-label>
              <input matInput formControlName="celular">
              <mat-icon matSuffix>call</mat-icon>

            </mat-form-field>
          </div>
          <div class="temp">
            <mat-form-field appearance="fill" style="margin: 0 10px;">
              <mat-label>Contraseña</mat-label>
              <input matInput matInput [type]="mostrarContrasena ? 'text' : 'password'" formControlName="password">
              <mat-icon matSuffix (click)="mostrarContrasena = !mostrarContrasena" style="cursor: pointer;">
                {{ mostrarContrasena ? 'visibility' : 'visibility_off' }}
              </mat-icon>

            </mat-form-field>
            <mat-form-field appearance="fill" style="margin: 0 10px;">
              <mat-label>Confirmar Contraseña</mat-label>
              <input matInput [type]="mostrarContrasena1 ? 'text' : 'password'" formControlName="password1">
              <mat-icon matSuffix (click)="mostrarContrasena1 = !mostrarContrasena1" style="cursor: pointer;">
                {{ mostrarContrasena1 ? 'visibility' : 'visibility_off' }}
              </mat-icon>

            </mat-form-field>
          </div>

        </div>
        <div style="display: flex; flex-direction: column;    justify-content: center;
        align-items: center; margin: 0 10px;">
          <h5>Imagen de perfil</h5>
          <div class="example-button-container">
            <button mat-raised-button color="primary" (click)="fileInput.click()">
              <mat-icon>favorite</mat-icon>
              Seleccionar
            </button>

            <!-- <button mat-fab color="primary" aria-label="Example icon button with a delete icon"
            (click)="fileInput.click()">
            <mat-icon>photo</mat-icon>
          </button> -->
            <input type="file" #fileInput style="display: none;" (change)="onFileSelected($event)"
              formControlName="image">
          </div>
          @if (selectedImage) {
          <div style="display: flex; margin-top: 4px; ">

            <div style="width: 50px; height: 50px; border-radius: 50%; overflow: hidden;">
              <img [src]="selectedImage" style="width: 100%; height: 100%; object-fit: cover;">
            </div>
          </div>
          }

          <mat-form-field>
            <mat-label>Tipo de usuario</mat-label>
            <mat-select formControlName="permisos">
              @for (rol of roles; track rol) {
              <mat-option [value]="rol.id_rol">{{rol.descripcion}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>
      </form>

    </mat-card-content>


  </mat-card>

</div>